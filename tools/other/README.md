## parse_torch_table

### 描述

将 torch profiler 输出的 table字符串转成csv文件

torch profile 的table字符串如下：

```txt

-------------------------------------------------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  --------------------------------------------------------------------------------  
                                                   Name    Self CPU %      Self CPU   CPU total %     CPU total  CPU time avg     Self CUDA   Self CUDA %    CUDA total  CUDA time avg       CPU Mem  Self CPU Mem      CUDA Mem  Self CUDA Mem    # of Calls                                                                      Input Shapes  
-------------------------------------------------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  --------------------------------------------------------------------------------  
                                          ProfilerStep*         3.49%      11.301ms       100.00%     323.578ms     323.578ms       0.000us         0.00%     322.599ms     322.599ms           0 b    -256.01 Kb           0 b     -20.48 Gb             1                                                                                []  
                                           aten::conv2d         0.00%       7.000us         0.06%     196.000us     196.000us       0.000us         0.00%       1.965ms       1.965ms           0 b           0 b     512.00 Mb           0 b             1                       [[1, 3, 1024, 1024], [128, 3, 3, 3], [128], [], [], [], []]  
                                      aten::convolution         0.00%       7.000us         0.06%     189.000us     189.000us       0.000us         0.00%       1.965ms       1.965ms           0 b           0 b     512.00 Mb           0 b             1               [[1, 3, 1024, 1024], [128, 3, 3, 3], [128], [], [], [], [], [], []]  
                                     aten::_convolution         0.00%      13.000us         0.06%     182.000us     182.000us       0.000us         0.00%       1.965ms       1.965ms           0 b           0 b     512.00 Mb           0 b             1  [[1, 3, 1024, 1024], [128, 3, 3, 3], [128], [], [], [], [], [], [], [], [], [],   
                                aten::cudnn_convolution         0.03%      83.000us         0.05%     155.000us     155.000us     707.000us         0.22%     709.000us     709.000us           0 b           0 b     512.00 Mb     511.99 Mb             1                  [[1, 3, 1024, 1024], [128, 3, 3, 3], [], [], [], [], [], [], []]  
                                       aten::contiguous         0.00%       2.000us         0.02%      61.000us      61.000us       0.000us         0.00%       2.000us       2.000us           0 b           0 b      13.50 Kb           0 b             1                                                              [[128, 3, 3, 3], []]  
                                            aten::clone         0.00%      10.000us         0.02%      59.000us      59.000us       0.000us         0.00%       2.000us       2.000us           0 b           0 b      13.50 Kb           0 b             1                                                              [[128, 3, 3, 3], []]  
                                       aten::empty_like         0.01%      20.000us         0.01%      26.000us      26.000us       0.000us         0.00%       0.000us       0.000us           0 b           0 b      13.50 Kb           0 b             1                                              [[128, 3, 3, 3], [], [], [], [], []]  
                                            aten::empty         0.11%     372.000us         0.11%     372.000us       2.696us       0.000us         0.00%       0.000us       0.000us     256.02 Kb     256.02 Kb       6.42 Gb       6.42 Gb           138                                                          [[], [], [], [], [], []]  
                                            aten::copy_         0.00%      13.000us         0.01%      23.000us      23.000us       2.000us         0.00%       2.000us       2.000us           0 b           0 b           0 b           0 b             1                                              [[128, 3, 3, 3], [128, 3, 3, 3], []]  
-------------------------------------------------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  ------------  --------------------------------------------------------------------------------  

```

### 使用说明

```shell
python3 parse_torch_table.py --help                             
usage: parse_torch_table.py [-h] -s SRC -d DST

optional arguments:
  -h, --help         show this help message and exit
  -s SRC, --src SRC #只包含 torch profile 的txt 文件
  -d DST, --dst DST # 输出csv 文件的路径
```

### example

```shell
python3 parse_torch_table.py -s ./sample.txt -d ./test.csv
```

